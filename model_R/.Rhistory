}
data <- read.csv("../data/2017_piege.csv")
data
library(tidyverse)
library(magrittr)
library(lubridate)
source("model1.R")
source("model.R")
data <- read_csv("../data/2017_piege.csv")
data
inflos <- cbind(data %>% filter(Sol == "ER") %>% pull(inflos),
data %>% filter(Sol == "PS") %>% pull(inflos),
data %>% filter(Sol == "EH") %>% pull(inflos))
inflos
larves <- cbind(data %>% filter(Sol == "ER") %>% pull(larves),
data %>% filter(Sol == "PS") %>% pull(larves),
data %>% filter(Sol == "EH") %>% pull(larves))
dynamiques(0.1, 0.2, 1, 0, 0.2, inflos)
toto <- dynamiques(0.1, 0.2, 1, 0, 0.2, inflos)
tutu <- dynamics(0.5, 0.2, 1, 0, 0.2, 1, 0, 0, 0, 0, 0, inflos)
source('~/cecidomyie/model_R/model.R')
tutu <- dynamics(0.5, 0.2, 1, 0, 0.2, 1, 0, 0, 0, 0, 0, inflos)
source('~/cecidomyie/model_R/model.R')
tutu <- dynamics(0.5, 0.2, 1, 0, 0.2, 1, 0, 0, 0, 0, 0, inflos)
tutu == toto
round(tutu) == round(toto)
tutu == toto
source('~/cecidomyie/model_R/model.R')
source('~/cecidomyie/model_R/model1.R')
toto <- dynamiques(0.1, 0.2, 1, 0, 0.2, inflos)
tutu <- dynamics(0.5, 0.2, 1, 0, 0.2, 1, 0, 0, 0, 0, 0, inflos)
tutu == toto
tutu <- dynamics(0.5, 0.2, 1, 0, 0.2, 0, 1, 0, 0, 0, 0, inflos)
tutu == toto
tutu <- dynamics(0.5, 0.2, 1, 0, 0.2, 1, 0, 0, 0, 0, 0, inflos)
toto <- dynamiques(0.1, 0.2, 1, 0, 0.2, inflos)
source('~/cecidomyie/model_R/model1.R')
source('~/cecidomyie/model_R/model.R')
tutu <- dynamics(0.1, 0.2, 1, 0, 0.2, 1, 0, 0, 0, 0, 0, inflos)
toto == tutu
exogene(0.5, inflos) == incoming(0.5, inflos)
exchange(0.2, inflos) == echange.dans.bloc(0.2, inflos)
tttt <- exchange(0.2, inflos)
oooo <- echange.dans.bloc(0.2, inflos)
tttt[[1]] == oooo[[1]]
source('~/cecidomyie/model_R/model.R')
tttt <- exchange(0.2, inflos)
oooo <- echange.dans.bloc(0.2, inflos)
tttt[[1]] == oooo[[1]]
source('~/cecidomyie/model_R/model.R')
oooo <- echange.dans.bloc(0.2, inflos)
tttt <- exchange(0.2, inflos)
tttt[[1]] == oooo[[1]]
tttt[[2]] == oooo[[2]]
tttt[[2]] == oooo[[3]]
tttt[[3]] == oooo[[3]]
tutu <- dynamics(0.1, 0.2, 1, 0, 0.2, 1, 0, 0, 0, 0, 0, inflos)
tutu == toto
tata <- disponibility(64, 0.2, inflos, females)
tata <- emerging(64, inflos, c(1,0,0))
titi <- femelles.endogene(64, inflos, c(1,0,0))
tata == titi
tata <- emerging(78, inflos, c(1,0,0))
titi <- femelles.endogene(78, inflos, c(1,0,0))
tata == titi
disponibility(64, 0.2, inflos, inflos) == dispo.ressources(64, 0.2, inflos, inflos)
disponibility(64:78, 0.2, inflos, inflos) == dispo.ressources(64:78, 0.2, inflos, inflos)
disponibility(78, 0.2, inflos, inflos) == dispo.ressources(78, 0.2, inflos, inflos)
disponibility(78, 0.2, inflos, 2*inflos) == dispo.ressources(78, 0.2, inflos, 2*inflos)
disponibility(78, 0.2, 3*inflos, 2*inflos) == dispo.ressources(78, 0.2, 3*inflos, 2*inflos)
disponibility(78, 0.2, 3*inflos, 2*inflos) == dispo.ressources(78, 0.2, 3*inflos, 2*inflos)
disponibility(14, 0.2, 3*inflos, 2*inflos) == dispo.ressources(14, 0.2, 3*inflos, 2*inflos)
larvaes_count(64, 0.2, 1, 0, 0, 0, 0, 0, inflos, inflos) == larves_toto(64, 0.2, inflos, inflos)
larvaes_count(26, 0.2, 1, 0, 0, 0, 0, 0, inflos, inflos) == larves_toto(26, 0.2, inflos, inflos)
larvaes_count(26, 0.2, 1, 0, 0, 0, 0, 0, inflos, 2*inflos) == larves_toto(26, 0.2, inflos, 2*inflos)
toto
tutu
tutu
tutu == toto
tutu[80, ]
toto[80, ]
toto
toto[80, ]
tutu[80, ]
toto <- dynamiques(0.1, 0.2, 1, 0, 0.2, inflos)
toto
tutu
tutu[80, ]
toto[80, ]
toto == tutu
dynamics(0.2, 0.5, 1, 0, 0.2, 1, 0, 0, 0, 0, 0, inflos) == dynamiques(0.2, 0.5, 1, 0, 0.2)
dynamics(0.2, 0.5, 1, 0, 0.2, 1, 0, 0, 0, 0, 0, inflos) == dynamiques(0.2, 0.5, 1, 0, 0.2, inflos)
dynamics(0.2, 0.5, 1, 0, 0.8, 1, 0, 0, 0, 0, 0, inflos) == dynamiques(0.2, 0.5, 1, 0, 0.8, inflos)
dynamics(0.01, 0.9, 1, 0.5, 0.2, 1, 0, 0, 0, 0, 0, inflos) == dynamiques(0.01, 0.9, 1, 0.5, 0.2, inflos)
source('~/cecidomyie/model_R/model.R')
dynamics(c(0.2, 0.5, 1, 0, 0.2, 1, 0, 0, 0, 0, 0), inflos) == dynamiques(0.2, 0.5, 1, 0, 0.2, inflos)
source('~/cecidomyie/model_R/model.R')
dynamics(c(0.2, 0.5, 1, 0, 0.2, 1, 0, 0, 0, 0, 0), inflos) == dynamiques(0.2, 0.5, 1, 0, 0.2, inflos)
beta
source('~/cecidomyie/model_R/model.R')
dynamics(c(0.2, 0.5, 1, 0, 0.2, 1, 0, 0, 0, 0, 0), inflos) == dynamiques(0.2, 0.5, 1, 0, 0.2, inflos)
dynamics(c(0.2, 0.5, 1, 0, 0.8, 1, 0, 0, 0, 0, 0), inflos) == dynamiques(0.2, 0.5, 1, 0, 0.8, inflos)
dynamics(c(0.01, 0.9, 1, 0.5, 0.2, 1, 0, 0, 0, 0, 0), inflos) == dynamiques(0.01, 0.9, 1, 0.5, 0.2, inflos)
dynamics(c(0.2, 0.5, 1, 0, 0.2, 1, 0, 0, 0, 0, 0), inflos) == dynamiques(0.2, 0.5, 1, 0, 0.2, inflos)
rm(list=ls())
er
er
ref
source('~/cecidomyie/drafts/test_new_pm.R')
# Plots -------------------------------------------------------------------
ref <- dynamics(arg1, inflos)
new <- dynamics2(arg2, inflos)
# ref2 <- dynamics2(arg3, inflos)
# new2 <- dynamics4(arg4, inflos)
df_er <- data.frame(Date = date2017,
Observés = larves_ER,
Référence = ref[, 1],
Nouveau_pm = new[, 1])
er <- df_er %>% ggplot +
aes(x = Date) +
geom_line(aes(y = Observés), col = "black") +
geom_line(aes(y = Référence), col = "blue") +
geom_line(aes(y = Nouveau_pm), col = "green4") +
geom_point(aes(y = Observés), col = "black") +
geom_point(aes(y = Référence), col = "blue") +
geom_point(aes(y = Nouveau_pm), col = "green4") +
theme_bw()
df_ps <- data.frame(Date = date2017,
Observés = larves_PS,
Référence = ref[, 2],
Nouveau_pm = new[, 2])
ps <- df_ps %>% ggplot +
aes(x = Date) +
geom_line(aes(y = Observés), col = "black") +
geom_line(aes(y = Référence), col = "blue") +
geom_line(aes(y = Nouveau_pm), col = "green4") +
geom_point(aes(y = Observés), col = "black") +
geom_point(aes(y = Référence), col = "blue") +
geom_point(aes(y = Nouveau_pm), col = "green4") +
theme_bw()
df_eh <- data.frame(Date = date2017,
Observés = larves_EH,
Référence = ref[, 3],
Nouveau_pm = new[, 3])
eh <- df_eh %>% ggplot +
aes(x = Date) +
geom_line(aes(y = Observés), col = "black") +
geom_line(aes(y = Référence), col = "blue") +
geom_line(aes(y = Nouveau_pm), col = "green4") +
geom_point(aes(y = Observés), col = "black") +
geom_point(aes(y = Référence), col = "blue") +
geom_point(aes(y = Nouveau_pm), col = "green4") +
theme_bw()
er
ps
eh
arg1
arg2
er
ps
eh
ps
er
obj1(arg1, inflos)
obj2(arg2, inflos)
arg2
arg1
exchange(arg1[2], inflos)
exchange2(arg2[2], inflos)
arg1
arg2
source('~/cecidomyie/model_R/model.R')
source('~/cecidomyie/drafts/test_new_pm.R')
arg1
arg2
er
ps
eh
source('~/cecidomyie/drafts/test_new_pm.R')
er
ps
eh
arg1
arg2
# Plots -------------------------------------------------------------------
ref <- dynamics(c(0.054, 0.73, 1, 0, 55), inflos)
new <- dynamics2(arg2, inflos)
# ref2 <- dynamics2(arg3, inflos)
# new2 <- dynamics4(arg4, inflos)
df_er <- data.frame(Date = date2017,
Observés = larves_ER,
Référence = ref[, 1],
Nouveau_pm = new[, 1])
er <- df_er %>% ggplot +
aes(x = Date) +
geom_line(aes(y = Observés), col = "black") +
geom_line(aes(y = Référence), col = "blue") +
geom_line(aes(y = Nouveau_pm), col = "green4") +
geom_point(aes(y = Observés), col = "black") +
geom_point(aes(y = Référence), col = "blue") +
geom_point(aes(y = Nouveau_pm), col = "green4") +
theme_bw()
df_ps <- data.frame(Date = date2017,
Observés = larves_PS,
Référence = ref[, 2],
Nouveau_pm = new[, 2])
ps <- df_ps %>% ggplot +
aes(x = Date) +
geom_line(aes(y = Observés), col = "black") +
geom_line(aes(y = Référence), col = "blue") +
geom_line(aes(y = Nouveau_pm), col = "green4") +
geom_point(aes(y = Observés), col = "black") +
geom_point(aes(y = Référence), col = "blue") +
geom_point(aes(y = Nouveau_pm), col = "green4") +
theme_bw()
df_eh <- data.frame(Date = date2017,
Observés = larves_EH,
Référence = ref[, 3],
Nouveau_pm = new[, 3])
eh <- df_eh %>% ggplot +
aes(x = Date) +
geom_line(aes(y = Observés), col = "black") +
geom_line(aes(y = Référence), col = "blue") +
geom_line(aes(y = Nouveau_pm), col = "green4") +
geom_point(aes(y = Observés), col = "black") +
geom_point(aes(y = Référence), col = "blue") +
geom_point(aes(y = Nouveau_pm), col = "green4") +
theme_bw()
er
ps
eh
# Plots -------------------------------------------------------------------
ref <- dynamics(c(0.054, 1, 1, 0, 55), inflos)
new <- dynamics2(arg2, inflos)
# ref2 <- dynamics2(arg3, inflos)
# new2 <- dynamics4(arg4, inflos)
df_er <- data.frame(Date = date2017,
Observés = larves_ER,
Référence = ref[, 1],
Nouveau_pm = new[, 1])
er <- df_er %>% ggplot +
aes(x = Date) +
geom_line(aes(y = Observés), col = "black") +
geom_line(aes(y = Référence), col = "blue") +
geom_line(aes(y = Nouveau_pm), col = "green4") +
geom_point(aes(y = Observés), col = "black") +
geom_point(aes(y = Référence), col = "blue") +
geom_point(aes(y = Nouveau_pm), col = "green4") +
theme_bw()
df_ps <- data.frame(Date = date2017,
Observés = larves_PS,
Référence = ref[, 2],
Nouveau_pm = new[, 2])
ps <- df_ps %>% ggplot +
aes(x = Date) +
geom_line(aes(y = Observés), col = "black") +
geom_line(aes(y = Référence), col = "blue") +
geom_line(aes(y = Nouveau_pm), col = "green4") +
geom_point(aes(y = Observés), col = "black") +
geom_point(aes(y = Référence), col = "blue") +
geom_point(aes(y = Nouveau_pm), col = "green4") +
theme_bw()
df_eh <- data.frame(Date = date2017,
Observés = larves_EH,
Référence = ref[, 3],
Nouveau_pm = new[, 3])
eh <- df_eh %>% ggplot +
aes(x = Date) +
geom_line(aes(y = Observés), col = "black") +
geom_line(aes(y = Référence), col = "blue") +
geom_line(aes(y = Nouveau_pm), col = "green4") +
geom_point(aes(y = Observés), col = "black") +
geom_point(aes(y = Référence), col = "blue") +
geom_point(aes(y = Nouveau_pm), col = "green4") +
theme_bw()
er
ps
eh
# Plots -------------------------------------------------------------------
ref <- dynamics(c(0.054, 0, 0, 0, 55), inflos)
new <- dynamics2(arg2, inflos)
# ref2 <- dynamics2(arg3, inflos)
# new2 <- dynamics4(arg4, inflos)
df_er <- data.frame(Date = date2017,
Observés = larves_ER,
Référence = ref[, 1],
Nouveau_pm = new[, 1])
er <- df_er %>% ggplot +
aes(x = Date) +
geom_line(aes(y = Observés), col = "black") +
geom_line(aes(y = Référence), col = "blue") +
geom_line(aes(y = Nouveau_pm), col = "green4") +
geom_point(aes(y = Observés), col = "black") +
geom_point(aes(y = Référence), col = "blue") +
geom_point(aes(y = Nouveau_pm), col = "green4") +
theme_bw()
df_ps <- data.frame(Date = date2017,
Observés = larves_PS,
Référence = ref[, 2],
Nouveau_pm = new[, 2])
ps <- df_ps %>% ggplot +
aes(x = Date) +
geom_line(aes(y = Observés), col = "black") +
geom_line(aes(y = Référence), col = "blue") +
geom_line(aes(y = Nouveau_pm), col = "green4") +
geom_point(aes(y = Observés), col = "black") +
geom_point(aes(y = Référence), col = "blue") +
geom_point(aes(y = Nouveau_pm), col = "green4") +
theme_bw()
df_eh <- data.frame(Date = date2017,
Observés = larves_EH,
Référence = ref[, 3],
Nouveau_pm = new[, 3])
eh <- df_eh %>% ggplot +
aes(x = Date) +
geom_line(aes(y = Observés), col = "black") +
geom_line(aes(y = Référence), col = "blue") +
geom_line(aes(y = Nouveau_pm), col = "green4") +
geom_point(aes(y = Observés), col = "black") +
geom_point(aes(y = Référence), col = "blue") +
geom_point(aes(y = Nouveau_pm), col = "green4") +
theme_bw()
er
ps
eh
# Plots -------------------------------------------------------------------
ref <- dynamics(c(0.04, 0, 0, 0, 55), inflos)
new <- dynamics2(arg2, inflos)
# ref2 <- dynamics2(arg3, inflos)
# new2 <- dynamics4(arg4, inflos)
df_er <- data.frame(Date = date2017,
Observés = larves_ER,
Référence = ref[, 1],
Nouveau_pm = new[, 1])
er <- df_er %>% ggplot +
aes(x = Date) +
geom_line(aes(y = Observés), col = "black") +
geom_line(aes(y = Référence), col = "blue") +
geom_line(aes(y = Nouveau_pm), col = "green4") +
geom_point(aes(y = Observés), col = "black") +
geom_point(aes(y = Référence), col = "blue") +
geom_point(aes(y = Nouveau_pm), col = "green4") +
theme_bw()
df_ps <- data.frame(Date = date2017,
Observés = larves_PS,
Référence = ref[, 2],
Nouveau_pm = new[, 2])
ps <- df_ps %>% ggplot +
aes(x = Date) +
geom_line(aes(y = Observés), col = "black") +
geom_line(aes(y = Référence), col = "blue") +
geom_line(aes(y = Nouveau_pm), col = "green4") +
geom_point(aes(y = Observés), col = "black") +
geom_point(aes(y = Référence), col = "blue") +
geom_point(aes(y = Nouveau_pm), col = "green4") +
theme_bw()
df_eh <- data.frame(Date = date2017,
Observés = larves_EH,
Référence = ref[, 3],
Nouveau_pm = new[, 3])
eh <- df_eh %>% ggplot +
aes(x = Date) +
geom_line(aes(y = Observés), col = "black") +
geom_line(aes(y = Référence), col = "blue") +
geom_line(aes(y = Nouveau_pm), col = "green4") +
geom_point(aes(y = Observés), col = "black") +
geom_point(aes(y = Référence), col = "blue") +
geom_point(aes(y = Nouveau_pm), col = "green4") +
theme_bw()
er
ps
eh
# Plots -------------------------------------------------------------------
ref <- dynamics(c(0.054, 1, 1, 1, 55), inflos)
new <- dynamics2(arg2, inflos)
# ref2 <- dynamics2(arg3, inflos)
# new2 <- dynamics4(arg4, inflos)
df_er <- data.frame(Date = date2017,
Observés = larves_ER,
Référence = ref[, 1],
Nouveau_pm = new[, 1])
er <- df_er %>% ggplot +
aes(x = Date) +
geom_line(aes(y = Observés), col = "black") +
geom_line(aes(y = Référence), col = "blue") +
geom_line(aes(y = Nouveau_pm), col = "green4") +
geom_point(aes(y = Observés), col = "black") +
geom_point(aes(y = Référence), col = "blue") +
geom_point(aes(y = Nouveau_pm), col = "green4") +
theme_bw()
df_ps <- data.frame(Date = date2017,
Observés = larves_PS,
Référence = ref[, 2],
Nouveau_pm = new[, 2])
ps <- df_ps %>% ggplot +
aes(x = Date) +
geom_line(aes(y = Observés), col = "black") +
geom_line(aes(y = Référence), col = "blue") +
geom_line(aes(y = Nouveau_pm), col = "green4") +
geom_point(aes(y = Observés), col = "black") +
geom_point(aes(y = Référence), col = "blue") +
geom_point(aes(y = Nouveau_pm), col = "green4") +
theme_bw()
df_eh <- data.frame(Date = date2017,
Observés = larves_EH,
Référence = ref[, 3],
Nouveau_pm = new[, 3])
eh <- df_eh %>% ggplot +
aes(x = Date) +
geom_line(aes(y = Observés), col = "black") +
geom_line(aes(y = Référence), col = "blue") +
geom_line(aes(y = Nouveau_pm), col = "green4") +
geom_point(aes(y = Observés), col = "black") +
geom_point(aes(y = Référence), col = "blue") +
geom_point(aes(y = Nouveau_pm), col = "green4") +
theme_bw()
er
ps
eh
# Plots -------------------------------------------------------------------
ref <- dynamics(arg1, inflos)
new <- dynamics2(arg2, inflos)
# ref2 <- dynamics2(arg3, inflos)
# new2 <- dynamics4(arg4, inflos)
df_er <- data.frame(Date = date2017,
Observés = larves_ER,
Référence = ref[, 1],
Nouveau_pm = new[, 1])
er <- df_er %>% ggplot +
aes(x = Date) +
geom_line(aes(y = Observés), col = "black") +
geom_line(aes(y = Référence), col = "blue") +
geom_line(aes(y = Nouveau_pm), col = "green4") +
geom_point(aes(y = Observés), col = "black") +
geom_point(aes(y = Référence), col = "blue") +
geom_point(aes(y = Nouveau_pm), col = "green4") +
theme_bw()
df_ps <- data.frame(Date = date2017,
Observés = larves_PS,
Référence = ref[, 2],
Nouveau_pm = new[, 2])
ps <- df_ps %>% ggplot +
aes(x = Date) +
geom_line(aes(y = Observés), col = "black") +
geom_line(aes(y = Référence), col = "blue") +
geom_line(aes(y = Nouveau_pm), col = "green4") +
geom_point(aes(y = Observés), col = "black") +
geom_point(aes(y = Référence), col = "blue") +
geom_point(aes(y = Nouveau_pm), col = "green4") +
theme_bw()
df_eh <- data.frame(Date = date2017,
Observés = larves_EH,
Référence = ref[, 3],
Nouveau_pm = new[, 3])
eh <- df_eh %>% ggplot +
aes(x = Date) +
geom_line(aes(y = Observés), col = "black") +
geom_line(aes(y = Référence), col = "blue") +
geom_line(aes(y = Nouveau_pm), col = "green4") +
geom_point(aes(y = Observés), col = "black") +
geom_point(aes(y = Référence), col = "blue") +
geom_point(aes(y = Nouveau_pm), col = "green4") +
theme_bw()
er
ps
eh
rm(list = ls())
source('~/cecidomyie/drafts/test_new_pm.R')
er
arg1
arg2
arg3
obj1(arg1, inflos = )
obj1(arg1, inflos)
obj3(arg3, inflos)
rm(list = ls())
source('~/cecidomyie/drafts/test_new_pm.R')
er
ps
eh
arg1
arg3
ob1(arg1, inflos)
obj1(arg1, inflos)
obj3(arg3, inflos)
